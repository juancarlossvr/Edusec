{% extends 'base.html' %}
{% load static %}

{% block title %}Escenario | EduSec{% endblock %}

{% block content %}
<div class="row justify-content-center">
    <div class="col-lg-10">
        <div class="mb-4">
            <h5 class="text-center">Escenario {{ escenario_actual }} de {{ total_escenarios }}</h5>
            <div class="progress" style="height: 20px;">
                <div class="progress-bar progress-bar-striped progress-bar-animated bg-success" role="progressbar" style="width: {{ progreso }}%;" aria-valuenow="{{ progreso }}" aria-valuemin="0" aria-valuemax="100">{{ progreso|floatformat:0 }}%</div>
            </div>
        </div>
        
        <div class="card p-4 shadow-sm">
            <h2 class="card-title mb-3">{{ escenario.titulo }}</h2>
            <p class="card-text mb-4">{{ escenario.descripcion.cuerpo|default:escenario.descripcion|linebreaksbr }}</p>

            <form method="post" id="scenario-form">
                {% csrf_token %}
                <div class="scenario-options">
                    {% for opcion_texto, opcion_valor in escenario.opciones.items %}
                    <div class="d-grid gap-2 mb-2">
                         <button type="submit" name="respuesta_dada" value="{{ opcion_valor }}" class="btn btn-option w-100">
                            {{ opcion_texto }}
                        </button>
                    </div>
                    {% endfor %}
                </div>
            </form>
        </div>
    </div>
</div>
{% endblock %}